(function(){var p=[],d=[];jQuery("#statify_chart_data tfoot th").each(function(){p.push(jQuery(this).html())});jQuery("#statify_chart_data tbody td").each(function(){d.push(jQuery(this).html())});var q=jQuery("#statify_chart").parent().width()+2,c=Raphael("statify_chart",q,140),a={font:"bold 10px Helvetica, Arial",fill:"#333"},e=(q-4)/p.length,r=Math.max.apply(Math,d),t=100/r;c.drawGrid(2+0.5*e,20,q-4-e,100,10,10,"#eaeaea");c.text(24,32,r).attr({font:"normal 10px Helvetica, Arial",fill:"#ccc"});var r=
c.path().attr({stroke:"#3399CC","stroke-width":4,"stroke-linejoin":"round"}),b=c.set(),u=0,v=0,n=!1,w,s=c.set();b.push(c.text(60,12,"1234 Aufrufe").attr(a));b.push(c.text(60,27,"15.08.2013").attr(a).attr({fill:"#3399CC"}));b.hide();for(var l=c.popup(100,100,b,"right").attr({fill:"#fff",stroke:"#333","stroke-width":2,"fill-opacity":0.8}).hide(),m,a=0,x=p.length;a<x;a++){var f=Math.round(120-t*d[a]),g=Math.round(2+e*(a+0.5));a||(m=["M",g,f,"C",g,f]);if(a&&a<x-1){var h=Math.round(120-t*d[a-1]),y=Math.round(2+
e*(a-0.5)),z=Math.round(120-t*d[a+1]),A=Math.round(2+e*(a+1.5)),h=getAnchors(y,h,g,f,A,z);m=m.concat([h.x1,h.y1,g,f,h.x2,h.y2])}h=c.circle(g,f,3).attr({fill:"#fff",stroke:"#3399CC","stroke-width":2});s.push(c.rect(2+e*a,0,e,120).attr({stroke:"none",fill:"#fff",opacity:0}));var B=s[s.length-1];(function(a,f,g,h,e){B.hover(function(){clearTimeout(w);var k="right";a+l.getBBox().width>q&&(k="left");var k=c.popup(a,f,b,k,1),d=Raphael.animation({path:k.path,transform:["t",k.dx,k.dy]},200*n);u=b[0].transform()[0][1]+
k.dx;v=b[0].transform()[0][2]+k.dy;l.show().stop().animate(d);b[0].attr({text:g+" Aufrufe"}).show().stop().animateWith(l,d,{transform:["t",u,v]},200*n);b[1].attr({text:h}).show().stop().animateWith(l,d,{transform:["t",u,v]},200*n);e.attr("r",5);n=!0},function(){e.attr("r",3);w=setTimeout(function(){l.hide();b[0].hide();b[1].hide();n=!1},1)})})(g,f,d[a],p[a],h)}m=m.concat([g,f,g,f]);r.attr({path:m});l.toFront();b[0].toFront();b[1].toFront();s.toFront()})();